!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/common"),require("@angular/core"),require("ng-zorro-antd/core"),require("ng-zorro-antd/icon"),require("rxjs"),require("rxjs/operators"),require("@angular/forms")):"function"==typeof define&&define.amd?define("ng-zorro-antd/tree",["exports","@angular/common","@angular/core","ng-zorro-antd/core","ng-zorro-antd/icon","rxjs","rxjs/operators","@angular/forms"],n):n(((e=e||self)["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].tree={}),e.ng.common,e.ng.core,e["ng-zorro-antd"].core,e["ng-zorro-antd"].icon,e.rxjs,e.rxjs.operators,e.ng.forms)}(this,(function(e,n,t,r,o,i,a,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var p=function(e,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)};function c(e,n){function t(){this.constructor=e}p(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}function d(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a}function l(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}var h=function(){function e(e,n,t,r,o,a){this.nzTreeService=e,this.ngZone=n,this.renderer=t,this.elRef=r,this.cdr=o,this.noAnimation=a,this.nzHideUnMatched=!1,this.nzNoAnimation=!1,this.nzSelectMode=!1,this.nzShowIcon=!1,this.nzSearchValue="",this.prefixCls="ant-tree",this.nzNodeClass={},this.nzNodeSwitcherClass={},this.nzNodeContentClass={},this.nzNodeCheckboxClass={},this.nzNodeContentIconClass={},this.nzNodeContentLoadingClass={},this.destroy$=new i.Subject,this.dragPos=2,this.dragPosClass={0:"drag-over",1:"drag-over-gap-bottom","-1":"drag-over-gap-top"},this._nzDraggable=!1,this._nzExpandAll=!1}return Object.defineProperty(e.prototype,"nzDraggable",{get:function(){return this._nzDraggable},set:function(e){this._nzDraggable=e,this.handDragEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzDefaultExpandAll",{get:function(){return this._nzExpandAll},set:function(e){r.warnDeprecation("'nzDefaultExpandAll' is going to be removed in 9.0.0. Please use 'nzExpandAll' instead."),this._nzExpandAll=e,e&&this.nzTreeNode&&!this.nzTreeNode.isLeaf&&(this.nzTreeNode.isExpanded=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzExpandAll",{get:function(){return this._nzExpandAll},set:function(e){this._nzExpandAll=e,e&&this.nzTreeNode&&!this.nzTreeNode.isLeaf&&(this.nzTreeNode.isExpanded=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzIcon",{get:function(){return this.nzTreeNode.icon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canDraggable",{get:function(){return!(!this.nzDraggable||this.nzTreeNode.isDisabled)||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isShowLineIcon",{get:function(){return!this.nzTreeNode.isLeaf&&this.nzShowLine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isShowSwitchIcon",{get:function(){return!this.nzTreeNode.isLeaf&&!this.nzShowLine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSwitcherOpen",{get:function(){return this.nzTreeNode.isExpanded&&!this.nzTreeNode.isLeaf},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSwitcherClose",{get:function(){return!this.nzTreeNode.isExpanded&&!this.nzTreeNode.isLeaf},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayStyle",{get:function(){return this.nzSearchValue&&this.nzHideUnMatched&&!this.nzTreeNode.isMatched&&!this.nzTreeNode.isExpanded&&this.nzTreeNode.canHide?"none":""},enumerable:!0,configurable:!0}),e.prototype.setClassMap=function(){var e,n,t,r,o,i;this.prefixCls=this.nzSelectMode?"ant-select-tree":"ant-tree",this.nzNodeClass=((e={})[this.prefixCls+"-treenode-disabled"]=this.nzTreeNode.isDisabled,e[this.prefixCls+"-treenode-switcher-open"]=this.isSwitcherOpen,e[this.prefixCls+"-treenode-switcher-close"]=this.isSwitcherClose,e[this.prefixCls+"-treenode-checkbox-checked"]=this.nzTreeNode.isChecked,e[this.prefixCls+"-treenode-checkbox-indeterminate"]=this.nzTreeNode.isHalfChecked,e[this.prefixCls+"-treenode-selected"]=this.nzTreeNode.isSelected,e[this.prefixCls+"-treenode-loading"]=this.nzTreeNode.isLoading,e),this.nzNodeSwitcherClass=((n={})[this.prefixCls+"-switcher"]=!0,n[this.prefixCls+"-switcher-noop"]=this.nzTreeNode.isLeaf,n[this.prefixCls+"-switcher_open"]=this.isSwitcherOpen,n[this.prefixCls+"-switcher_close"]=this.isSwitcherClose,n),this.nzNodeCheckboxClass=((t={})[this.prefixCls+"-checkbox"]=!0,t[this.prefixCls+"-checkbox-checked"]=this.nzTreeNode.isChecked,t[this.prefixCls+"-checkbox-indeterminate"]=this.nzTreeNode.isHalfChecked,t[this.prefixCls+"-checkbox-disabled"]=this.nzTreeNode.isDisabled||this.nzTreeNode.isDisableCheckbox,t),this.nzNodeContentClass=((r={})[this.prefixCls+"-node-content-wrapper"]=!0,r[this.prefixCls+"-node-content-wrapper-open"]=this.isSwitcherOpen,r[this.prefixCls+"-node-content-wrapper-close"]=this.isSwitcherClose,r[this.prefixCls+"-node-selected"]=this.nzTreeNode.isSelected,r),this.nzNodeContentIconClass=((o={})[this.prefixCls+"-iconEle"]=!0,o[this.prefixCls+"-icon__customize"]=!0,o),this.nzNodeContentLoadingClass=((i={})[this.prefixCls+"-iconEle"]=!0,i)},e.prototype.onMousedown=function(e){this.nzSelectMode&&e.preventDefault()},e.prototype.nzClick=function(e){e.preventDefault(),e.stopPropagation(),this.nzTreeNode.isSelectable&&!this.nzTreeNode.isDisabled&&(this.nzTreeNode.isSelected=!this.nzTreeNode.isSelected);var n=this.nzTreeService.formatEvent("click",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)},e.prototype.nzDblClick=function(e){e.preventDefault(),e.stopPropagation();var n=this.nzTreeService.formatEvent("dblclick",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)},e.prototype.nzContextMenu=function(e){e.preventDefault(),e.stopPropagation();var n=this.nzTreeService.formatEvent("contextmenu",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)},e.prototype._clickExpand=function(e){if(e.preventDefault(),e.stopPropagation(),!this.nzTreeNode.isLoading&&!this.nzTreeNode.isLeaf){this.nzAsyncData&&0===this.nzTreeNode.children.length&&!this.nzTreeNode.isExpanded&&(this.nzTreeNode.isLoading=!0),this.nzTreeNode.isExpanded=!this.nzTreeNode.isExpanded,this.nzTreeNode.isMatched&&this.setDisplayForParentNodes(this.nzTreeNode),this.setDisplayForChildNodes(this.nzTreeNode);var n=this.nzTreeService.formatEvent("expand",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)}},e.prototype.setDisplayForChildNodes=function(e){var n=this,t=e.children;t.length>0&&t.map((function(e){var t=!e.isMatched;e.canHide=t,n.setDisplayForChildNodes(e)}))},e.prototype.setDisplayForParentNodes=function(e){var n=e.getParentNode();n&&(n.canHide=!1,this.setDisplayForParentNodes(n))},e.prototype._clickCheckBox=function(e){if(e.preventDefault(),e.stopPropagation(),!this.nzTreeNode.isDisabled&&!this.nzTreeNode.isDisableCheckbox){this.nzTreeNode.isChecked=!this.nzTreeNode.isChecked,this.nzTreeNode.isHalfChecked=!1,this.nzTreeService.isCheckStrictly||this.nzTreeService.conduct(this.nzTreeNode);var n=this.nzTreeService.formatEvent("check",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)}},e.prototype.clearDragClass=function(){var e=this;["drag-over-gap-top","drag-over-gap-bottom","drag-over"].forEach((function(n){e.renderer.removeClass(e.dragElement.nativeElement,n)}))},e.prototype.handleDragStart=function(e){e.stopPropagation();try{e.dataTransfer.setData("text/plain",this.nzTreeNode.key)}catch(e){}this.nzTreeService.setSelectedNode(this.nzTreeNode),this.nzTreeNode.isExpanded=!1;var n=this.nzTreeService.formatEvent("dragstart",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(n)},e.prototype.handleDragEnter=function(e){var n=this;e.preventDefault(),e.stopPropagation(),this.dragPos=2,this.ngZone.run((function(){var t=n.nzTreeService.getSelectedNode();!t||t.key===n.nzTreeNode.key||n.nzTreeNode.isExpanded||n.nzTreeNode.isLeaf||(n.nzTreeNode.isExpanded=!0);var r=n.nzTreeService.formatEvent("dragenter",n.nzTreeNode,e);n.nzTreeService.triggerEventChange$.next(r)}))},e.prototype.handleDragOver=function(e){e.preventDefault(),e.stopPropagation();var n=this.nzTreeService.calcDropPosition(e);this.dragPos!==n&&(this.clearDragClass(),this.dragPos=n,0===this.dragPos&&this.nzTreeNode.isLeaf||this.renderer.addClass(this.dragElement.nativeElement,this.dragPosClass[this.dragPos]));var t=this.nzTreeService.formatEvent("dragover",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(t)},e.prototype.handleDragLeave=function(e){var n=this;e.stopPropagation(),this.ngZone.run((function(){n.clearDragClass()}));var t=this.nzTreeService.formatEvent("dragleave",this.nzTreeNode,e);this.nzTreeService.triggerEventChange$.next(t)},e.prototype.handleDragDrop=function(e){var n=this;e.preventDefault(),e.stopPropagation(),this.ngZone.run((function(){n.clearDragClass();var t=n.nzTreeService.getSelectedNode();if(!(!t||t&&t.key===n.nzTreeNode.key||0===n.dragPos&&n.nzTreeNode.isLeaf)){var r=n.nzTreeService.formatEvent("drop",n.nzTreeNode,e),o=n.nzTreeService.formatEvent("dragend",n.nzTreeNode,e);n.nzBeforeDrop?n.nzBeforeDrop({dragNode:n.nzTreeService.getSelectedNode(),node:n.nzTreeNode,pos:n.dragPos}).subscribe((function(e){e&&n.nzTreeService.dropAndApply(n.nzTreeNode,n.dragPos),n.nzTreeService.triggerEventChange$.next(r),n.nzTreeService.triggerEventChange$.next(o)})):n.nzTreeNode&&(n.nzTreeService.dropAndApply(n.nzTreeNode,n.dragPos),n.nzTreeService.triggerEventChange$.next(r))}}))},e.prototype.handleDragEnd=function(e){var n=this;e.stopPropagation(),this.ngZone.run((function(){if(!n.nzBeforeDrop){var t=n.nzTreeService.formatEvent("dragend",n.nzTreeNode,e);n.nzTreeService.triggerEventChange$.next(t)}}))},e.prototype.handDragEvent=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.nzDraggable?(e.destroy$=new i.Subject,i.fromEvent(e.elRef.nativeElement,"dragstart").pipe(a.takeUntil(e.destroy$)).subscribe((function(n){return e.handleDragStart(n)})),i.fromEvent(e.elRef.nativeElement,"dragenter").pipe(a.takeUntil(e.destroy$)).subscribe((function(n){return e.handleDragEnter(n)})),i.fromEvent(e.elRef.nativeElement,"dragover").pipe(a.takeUntil(e.destroy$)).subscribe((function(n){return e.handleDragOver(n)})),i.fromEvent(e.elRef.nativeElement,"dragleave").pipe(a.takeUntil(e.destroy$)).subscribe((function(n){return e.handleDragLeave(n)})),i.fromEvent(e.elRef.nativeElement,"drop").pipe(a.takeUntil(e.destroy$)).subscribe((function(n){return e.handleDragDrop(n)})),i.fromEvent(e.elRef.nativeElement,"dragend").pipe(a.takeUntil(e.destroy$)).subscribe((function(n){return e.handleDragEnd(n)}))):(e.destroy$.next(),e.destroy$.complete())}))},e.prototype.isTemplateRef=function(e){return e instanceof t.TemplateRef},e.prototype.markForCheck=function(){this.cdr.markForCheck()},e.prototype.ngOnInit=function(){var e=this;this.nzTreeNode.isSelected&&this.nzTreeService.setNodeActive(this.nzTreeNode),this.nzTreeNode.isExpanded&&this.nzTreeService.setExpandedNodeList(this.nzTreeNode),this.nzTreeNode.isChecked&&this.nzTreeService.setCheckedNodeList(this.nzTreeNode),this.nzTreeNode.component=this,this.nzTreeService.eventTriggerChanged().pipe(a.filter((function(n){return n.node.key===e.nzTreeNode.key})),a.takeUntil(this.destroy$)).subscribe((function(){e.setClassMap(),e.markForCheck()})),this.setClassMap()},e.prototype.ngOnChanges=function(){this.setClassMap()},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.decorators=[{type:t.Component,args:[{selector:"nz-tree-node",exportAs:"nzTreeNode",template:'<li\n  #dragElement\n  role="treeitem"\n  [style.display]="displayStyle"\n  [ngClass]="nzNodeClass">\n  <ng-container *ngIf="nzShowExpand">\n    <span\n      [ngClass]="nzNodeSwitcherClass"\n      (click)="_clickExpand($event)">\n      <ng-container *ngIf="isShowSwitchIcon">\n        <ng-container *ngIf="!nzTreeNode.isLoading">\n          <ng-template\n            *ngIf="isTemplateRef(nzExpandedIcon)"\n            [ngTemplateOutlet]="nzExpandedIcon"\n            [ngTemplateOutletContext]="{ $implicit: nzTreeNode }">\n          </ng-template>\n          <i\n            *ngIf="!isTemplateRef(nzExpandedIcon)"\n            nz-icon\n            nzType="caret-down"\n            [class.ant-select-switcher-icon]="nzSelectMode"\n            [class.ant-tree-switcher-icon]="!nzSelectMode">\n          </i>\n        </ng-container>\n        <i *ngIf="nzTreeNode.isLoading" nz-icon nzType="loading" [nzSpin]="true" class="ant-tree-switcher-loading-icon"></i>\n      </ng-container>\n      <ng-container *ngIf="nzShowLine">\n        <ng-template\n          *ngIf="isTemplateRef(nzExpandedIcon)"\n          [ngTemplateOutlet]="nzExpandedIcon"\n          [ngTemplateOutletContext]="{ $implicit: nzTreeNode }">\n        </ng-template>\n        <ng-container *ngIf="!isTemplateRef(nzExpandedIcon)">\n          <i *ngIf="isShowLineIcon" nz-icon [nzType]="isSwitcherOpen ? \'minus-square\' : \'plus-square\'" class="ant-tree-switcher-line-icon"></i>\n          <i *ngIf="!isShowLineIcon" nz-icon nzType="file" class="ant-tree-switcher-line-icon"></i>\n        </ng-container>\n      </ng-container>\n    </span>\n  </ng-container>\n  <ng-container *ngIf="nzCheckable">\n    <span\n      [ngClass]="nzNodeCheckboxClass"\n      (click)="_clickCheckBox($event)">\n      <span [class.ant-tree-checkbox-inner]="!nzSelectMode"\n            [class.ant-select-tree-checkbox-inner]="nzSelectMode"></span>\n    </span>\n  </ng-container>\n  <ng-container *ngIf="!nzTreeTemplate">\n    <span\n      title="{{nzTreeNode.title}}"\n      [attr.draggable]="canDraggable"\n      [attr.aria-grabbed]="canDraggable"\n      [ngClass]="nzNodeContentClass"\n      [class.draggable]="canDraggable">\n      <span\n        *ngIf="nzTreeNode.icon && nzShowIcon"\n        [class.ant-tree-icon__open]="isSwitcherOpen"\n        [class.ant-tree-icon__close]="isSwitcherClose"\n        [class.ant-tree-icon_loading]="nzTreeNode.isLoading"\n        [ngClass]="nzNodeContentLoadingClass">\n        <span\n          [ngClass]="nzNodeContentIconClass">\n          <i nz-icon *ngIf="nzIcon" [nzType]="nzIcon"></i>\n        </span>\n      </span>\n      <span class="ant-tree-title" [innerHTML]="nzTreeNode.title | nzHighlight: nzSearchValue: \'\' : \'font-highlight\'">\n      </span>\n    </span>\n  </ng-container>\n  <ng-template\n    [ngTemplateOutlet]="nzTreeTemplate"\n    [ngTemplateOutletContext]="{ $implicit: nzTreeNode }">\n  </ng-template>\n\n  <ul\n    *ngIf="nzTreeNode.isExpanded"\n    role="group"\n    class="ant-tree-child-tree"\n    [class.ant-tree-child-tree-open]="!nzSelectMode || nzTreeNode.isExpanded"\n    data-expanded="true"\n    [@.disabled]="noAnimation?.nzNoAnimation"\n    @treeCollapseMotion>\n    <nz-tree-node\n      *ngFor="let node of nzTreeNode.getChildren()"\n      [nzTreeNode]="node"\n      [nzShowExpand]="nzShowExpand"\n      [@.disabled]="noAnimation?.nzNoAnimation"\n      [nzNoAnimation]="noAnimation?.nzNoAnimation"\n      [nzSelectMode]="nzSelectMode"\n      [nzShowLine]="nzShowLine"\n      [nzExpandedIcon]="nzExpandedIcon"\n      [nzDraggable]="nzDraggable"\n      [nzCheckable]="nzCheckable"\n      [nzAsyncData]="nzAsyncData"\n      [nzExpandAll]="nzExpandAll"\n      [nzShowIcon]="nzShowIcon"\n      [nzSearchValue]="nzSearchValue"\n      [nzHideUnMatched]="nzHideUnMatched"\n      [nzBeforeDrop]="nzBeforeDrop"\n      [nzTreeTemplate]="nzTreeTemplate">\n    </nz-tree-node>\n  </ul>\n</li>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,animations:[r.treeCollapseMotion]}]}],e.ctorParameters=function(){return[{type:r.NzTreeBaseService},{type:t.NgZone},{type:t.Renderer2},{type:t.ElementRef},{type:t.ChangeDetectorRef},{type:r.NzNoAnimationDirective,decorators:[{type:t.Host},{type:t.Optional}]}]},e.propDecorators={dragElement:[{type:t.ViewChild,args:["dragElement",{static:!1}]}],nzTreeNode:[{type:t.Input}],nzShowLine:[{type:t.Input}],nzShowExpand:[{type:t.Input}],nzCheckable:[{type:t.Input}],nzAsyncData:[{type:t.Input}],nzHideUnMatched:[{type:t.Input}],nzNoAnimation:[{type:t.Input}],nzSelectMode:[{type:t.Input}],nzShowIcon:[{type:t.Input}],nzExpandedIcon:[{type:t.Input}],nzTreeTemplate:[{type:t.Input}],nzBeforeDrop:[{type:t.Input}],nzSearchValue:[{type:t.Input}],nzDraggable:[{type:t.Input}],nzDefaultExpandAll:[{type:t.Input}],nzExpandAll:[{type:t.Input}],onMousedown:[{type:t.HostListener,args:["mousedown",["$event"]]}],nzClick:[{type:t.HostListener,args:["click",["$event"]]}],nzDblClick:[{type:t.HostListener,args:["dblclick",["$event"]]}],nzContextMenu:[{type:t.HostListener,args:["contextmenu",["$event"]]}]},d([r.InputBoolean(),l("design:type",Boolean)],e.prototype,"nzShowLine",void 0),d([r.InputBoolean(),l("design:type",Boolean)],e.prototype,"nzShowExpand",void 0),d([r.InputBoolean(),l("design:type",Boolean)],e.prototype,"nzCheckable",void 0),d([r.InputBoolean(),l("design:type",Boolean)],e.prototype,"nzAsyncData",void 0),d([r.InputBoolean(),l("design:type",Object)],e.prototype,"nzHideUnMatched",void 0),d([r.InputBoolean(),l("design:type",Object)],e.prototype,"nzNoAnimation",void 0),d([r.InputBoolean(),l("design:type",Object)],e.prototype,"nzSelectMode",void 0),d([r.InputBoolean(),l("design:type",Object)],e.prototype,"nzShowIcon",void 0),e}();var z=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return c(n,e),n.decorators=[{type:t.Injectable}],n}(r.NzTreeBaseService);function u(e,n){return e||n}var g=function(e){function n(n,r,o,a){var s=e.call(this,n)||this;return s.nzConfigService=r,s.cdr=o,s.noAnimation=a,s.nzShowExpand=!0,s.nzShowLine=!1,s.nzCheckable=!1,s.nzAsyncData=!1,s.nzDraggable=!1,s.nzSelectMode=!1,s.nzCheckStrictly=!1,s.nzExpandAll=!1,s._nzDefaultExpandAll=!1,s.nzMultiple=!1,s.nzExpandedKeysChange=new t.EventEmitter,s.nzSelectedKeysChange=new t.EventEmitter,s.nzCheckedKeysChange=new t.EventEmitter,s.nzSearchValueChange=new t.EventEmitter,s.nzOnSearchNode=new t.EventEmitter,s.nzClick=new t.EventEmitter,s.nzDblClick=new t.EventEmitter,s.nzContextMenu=new t.EventEmitter,s.nzCheckBoxChange=new t.EventEmitter,s.nzExpandChange=new t.EventEmitter,s.nzOnDragStart=new t.EventEmitter,s.nzOnDragEnter=new t.EventEmitter,s.nzOnDragOver=new t.EventEmitter,s.nzOnDragLeave=new t.EventEmitter,s.nzOnDrop=new t.EventEmitter,s.nzOnDragEnd=new t.EventEmitter,s.nzDefaultSubject=new i.ReplaySubject(6),s.destroy$=new i.Subject,s.prefixCls="ant-tree",s.classMap={},s.onChange=function(){return null},s.onTouched=function(){return null},s}return c(n,e),Object.defineProperty(n.prototype,"treeTemplate",{get:function(){return this.nzTreeTemplate||this.nzTreeTemplateChild},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nzDefaultExpandAll",{get:function(){return this._nzDefaultExpandAll},set:function(e){r.warnDeprecation("'nzDefaultExpandAll' would be removed in 9.0.0. Please use 'nzExpandAll' instead."),this.nzExpandAll=e,this._nzDefaultExpandAll=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nzData",{set:function(e){this.initNzData(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nzDefaultExpandedKeys",{set:function(e){r.warnDeprecation("'nzDefaultExpandedKeys' would be removed in 9.0.0. Please use 'nzExpandedKeys' instead."),this.nzDefaultSubject.next({type:"nzExpandedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nzDefaultSelectedKeys",{set:function(e){r.warnDeprecation("'nzDefaultSelectedKeys' would be removed in 9.0.0. Please use 'nzSelectedKeys' instead."),this.nzDefaultSubject.next({type:"nzSelectedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nzDefaultCheckedKeys",{set:function(e){r.warnDeprecation("'nzDefaultCheckedKeys' would be removed in 9.0.0. Please use 'nzCheckedKeys' instead."),this.nzDefaultSubject.next({type:"nzCheckedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nzExpandedKeys",{set:function(e){this.nzDefaultSubject.next({type:"nzExpandedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nzSelectedKeys",{set:function(e){this.nzDefaultSubject.next({type:"nzSelectedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nzCheckedKeys",{set:function(e){this.nzDefaultSubject.next({type:"nzCheckedKeys",keys:e})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nzSearchValue",{get:function(){return this._searchValue},set:function(e){this._searchValue=e,this.nzTreeService.searchExpand(e),r.isNotNil(e)&&(this.nzSearchValueChange.emit(this.nzTreeService.formatEvent("search",null,null)),this.nzOnSearchNode.emit(this.nzTreeService.formatEvent("search",null,null)))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nzNodes",{get:function(){return this.nzTreeService.rootNodes},enumerable:!0,configurable:!0}),n.prototype.setClassMap=function(){var e;this.classMap=((e={})[this.prefixCls]=!0,e[this.prefixCls+"-show-line"]=this.nzShowLine,e[this.prefixCls+"-icon-hide"]=!this.nzShowIcon,e[this.prefixCls+"-block-node"]=this.nzBlockNode,e["draggable-tree"]=this.nzDraggable,e["ant-select-tree"]=this.nzSelectMode,e)},n.prototype.writeValue=function(e){this.initNzData(e)},n.prototype.registerOnChange=function(e){this.onChange=e},n.prototype.registerOnTouched=function(e){this.onTouched=e},n.prototype.initNzData=function(e){Array.isArray(e)&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly,this.nzTreeService.isMultiple=this.nzMultiple,this.nzTreeService.initTree(this.coerceTreeNodes(e)))},n.prototype.ngOnInit=function(){var e=this;this.setClassMap(),this.nzDefaultSubject.pipe(a.takeUntil(this.destroy$)).subscribe((function(n){if(n&&n.keys){switch(n.type){case"nzExpandedKeys":e.nzTreeService.calcExpandedKeys(n.keys,e.nzNodes),e.nzExpandedKeysChange.emit(n.keys);break;case"nzSelectedKeys":e.nzTreeService.calcSelectedKeys(n.keys,e.nzNodes,e.nzMultiple),e.nzSelectedKeysChange.emit(n.keys);break;case"nzCheckedKeys":e.nzTreeService.calcCheckedKeys(n.keys,e.nzNodes,e.nzCheckStrictly),e.nzCheckedKeysChange.emit(n.keys)}e.cdr.markForCheck()}})),this.nzTreeService.eventTriggerChanged().pipe(a.takeUntil(this.destroy$)).subscribe((function(n){switch(n.eventName){case"expand":e.nzExpandChange.emit(n);break;case"click":e.nzClick.emit(n);break;case"check":e.nzCheckBoxChange.emit(n);break;case"dblclick":e.nzDblClick.emit(n);break;case"contextmenu":e.nzContextMenu.emit(n);break;case"dragstart":e.nzOnDragStart.emit(n);break;case"dragenter":e.nzOnDragEnter.emit(n);break;case"dragover":e.nzOnDragOver.emit(n);break;case"dragleave":e.nzOnDragLeave.emit(n);break;case"drop":e.nzOnDrop.emit(n);break;case"dragend":e.nzOnDragEnd.emit(n)}}))},n.prototype.ngOnChanges=function(e){e.nzCheckStrictly&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly),e.nzMultiple&&(this.nzTreeService.isMultiple=this.nzMultiple)},n.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},n.decorators=[{type:t.Component,args:[{selector:"nz-tree",exportAs:"nzTree",template:'<ul\n  role="tree"\n  unselectable="on"\n  [ngClass]="classMap">\n  <ng-container *ngFor="let node of nzNodes">\n    <nz-tree-node\n      [nzTreeNode]="node"\n      [nzSelectMode]="nzSelectMode"\n      [nzShowLine]="nzShowLine"\n      [nzExpandedIcon]="nzExpandedIcon"\n      [nzDraggable]="nzDraggable"\n      [nzCheckable]="nzCheckable"\n      [nzShowExpand]="nzShowExpand"\n      [nzAsyncData]="nzAsyncData"\n      [nzSearchValue]="nzSearchValue"\n      [nzHideUnMatched]="nzHideUnMatched"\n      [nzBeforeDrop]="nzBeforeDrop"\n      [nzExpandAll]="nzExpandAll"\n      [nzShowIcon]="nzShowIcon"\n      [nzTreeTemplate]="treeTemplate"\n      [@.disabled]="noAnimation?.nzNoAnimation"\n      [nzNoAnimation]="noAnimation?.nzNoAnimation">\n    </nz-tree-node>\n  </ng-container>\n</ul>',changeDetection:t.ChangeDetectionStrategy.OnPush,providers:[z,{provide:r.NzTreeBaseService,useFactory:u,deps:[[new t.SkipSelf,new t.Optional,r.NzTreeHigherOrderServiceToken],z]},{provide:s.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return n})),multi:!0}]}]}],n.ctorParameters=function(){return[{type:r.NzTreeBaseService},{type:r.NzConfigService},{type:t.ChangeDetectorRef},{type:r.NzNoAnimationDirective,decorators:[{type:t.Host},{type:t.Optional}]}]},n.propDecorators={nzShowIcon:[{type:t.Input}],nzShowExpand:[{type:t.Input}],nzShowLine:[{type:t.Input}],nzExpandedIcon:[{type:t.Input}],nzCheckable:[{type:t.Input}],nzAsyncData:[{type:t.Input}],nzDraggable:[{type:t.Input}],nzHideUnMatched:[{type:t.Input}],nzSelectMode:[{type:t.Input}],nzCheckStrictly:[{type:t.Input}],nzBlockNode:[{type:t.Input}],nzExpandAll:[{type:t.Input}],nzTreeTemplate:[{type:t.Input}],nzTreeTemplateChild:[{type:t.ContentChild,args:["nzTreeTemplate",{static:!0}]}],nzDefaultExpandAll:[{type:t.Input}],nzBeforeDrop:[{type:t.Input}],nzMultiple:[{type:t.Input}],nzData:[{type:t.Input}],nzDefaultExpandedKeys:[{type:t.Input}],nzDefaultSelectedKeys:[{type:t.Input}],nzDefaultCheckedKeys:[{type:t.Input}],nzExpandedKeys:[{type:t.Input}],nzSelectedKeys:[{type:t.Input}],nzCheckedKeys:[{type:t.Input}],nzSearchValue:[{type:t.Input}],nzExpandedKeysChange:[{type:t.Output}],nzSelectedKeysChange:[{type:t.Output}],nzCheckedKeysChange:[{type:t.Output}],nzSearchValueChange:[{type:t.Output}],nzOnSearchNode:[{type:t.Output}],nzClick:[{type:t.Output}],nzDblClick:[{type:t.Output}],nzContextMenu:[{type:t.Output}],nzCheckBoxChange:[{type:t.Output}],nzExpandChange:[{type:t.Output}],nzOnDragStart:[{type:t.Output}],nzOnDragEnter:[{type:t.Output}],nzOnDragOver:[{type:t.Output}],nzOnDragLeave:[{type:t.Output}],nzOnDrop:[{type:t.Output}],nzOnDragEnd:[{type:t.Output}]},d([r.InputBoolean(),r.WithConfig("tree",!1),l("design:type",Boolean)],n.prototype,"nzShowIcon",void 0),d([r.InputBoolean(),l("design:type",Boolean)],n.prototype,"nzShowExpand",void 0),d([r.InputBoolean(),l("design:type",Object)],n.prototype,"nzShowLine",void 0),d([r.InputBoolean(),l("design:type",Object)],n.prototype,"nzCheckable",void 0),d([r.InputBoolean(),l("design:type",Object)],n.prototype,"nzAsyncData",void 0),d([r.InputBoolean(),l("design:type",Boolean)],n.prototype,"nzDraggable",void 0),d([r.InputBoolean(),r.WithConfig("tree",!1),l("design:type",Boolean)],n.prototype,"nzHideUnMatched",void 0),d([r.InputBoolean(),l("design:type",Object)],n.prototype,"nzSelectMode",void 0),d([r.InputBoolean(),l("design:type",Object)],n.prototype,"nzCheckStrictly",void 0),d([r.WithConfig("tree",!1),r.InputBoolean(),l("design:type",Boolean)],n.prototype,"nzBlockNode",void 0),d([r.InputBoolean(),l("design:type",Object)],n.prototype,"nzExpandAll",void 0),d([r.InputBoolean(),l("design:type",Boolean),l("design:paramtypes",[Boolean])],n.prototype,"nzDefaultExpandAll",null),d([r.InputBoolean(),l("design:type",Object)],n.prototype,"nzMultiple",void 0),n}(r.NzTreeBase);var y=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule,r.NzAddOnModule,o.NzIconModule,r.NzNoAnimationModule,r.NzHighlightModule],declarations:[g,h],exports:[g,h]}]}],e}();e.NzTreeComponent=g,e.NzTreeModule=y,e.NzTreeNodeComponent=h,e.NzTreeService=z,e.NzTreeServiceFactory=u,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-zorro-antd-tree.umd.min.js.map